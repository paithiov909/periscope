% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/periscope-package.R
\name{prscp-stream}
\alias{prscp-stream}
\alias{create_stream}
\alias{is_prscp_stream}
\alias{is_available_stream}
\alias{close.prscp_stream}
\alias{send_frame}
\title{Stream rendered frames from R to ffmpeg}
\usage{
create_stream(
  name = "rtmp://localhost/live\%03d",
  width = 640,
  height = 320,
  fps = 10,
  cv = "libx264"
)

is_prscp_stream(x)

is_available_stream(x)

\method{close}{prscp_stream}(con, ...)

send_frame(x, frame)
}
\arguments{
\item{name}{A character string specifying the target of the stream.
If the string contains a \verb{\%d} placeholder, it will be replaced
with an incrementing integer (e.g. \code{"rtmp://localhost/live\%03d"}).}

\item{width, height}{Integer specifying the width and height of the
streamed frames.}

\item{fps}{Integer specifying the frame rate for encoding.}

\item{cv}{Character string specifying the codec to use.}

\item{x, con}{A \code{prscp_stream} object.}

\item{...}{Ignored.}

\item{frame}{An integer vector of length \code{width * height * 4} or
a \code{nativeRaster} object specifying the raw frame data.}
}
\value{
\itemize{
\item \code{create_stream()} returns a new \code{prscp_stream} object.
\item \code{close.prscp_stream()} invisibly returns \code{x}.
\item \code{send_frame()} invisibly returns the streamed data as a raw vector.
}
}
\description{
The \code{prscp_stream} API provides a minimal mechanism to stream
frame-based graphics generated in R using an external ffmpeg process
through \code{\link[base:connections]{base::pipe()}}.

By default, frames are written to the standard input of an ffmpeg
process, which performs encoding (H.264) and publishing (FLV/RTMP).
This design keeps R responsible only for frame generation, while
delegating video encoding and transport to ffmpeg.

A \code{prscp_stream} object represents an open connection to an ffmpeg
process. Frames can be sent sequentially using \code{send_frame()}, and
the stream must be explicitly closed with \code{close()}.
}
\details{
This API is intended for experimental, generative, or exploratory
use cases where the execution of R itself is treated as a temporal
process. It does not guarantee a stable frame rate, synchronized
playback, or real-time rendering semantics.

The target of the stream can be an RTMP server (e.g. MediaMTX),
or a local file path. RTMP streaming requires a listening server;
direct peer-to-peer connections are not supported by the RTMP
protocol.
}
